*{margin:0;padding:0;box-sizing:border-box}body{background:#000;color:#fff;font-family:Courier New,monospace;overflow:hidden;width:100vw;height:100vh}#app{display:flex;width:100%;height:100%}#game-container{position:relative;flex:1;min-width:0;background:#000}#game-canvas{display:block;width:100%;height:100%;cursor:pointer;touch-action:none}#hud{position:absolute;top:20px;left:20px;pointer-events:none}#points-display{font-size:32px;font-weight:700;text-shadow:0 0 4px rgba(255,255,255,.8),0 0 8px rgba(255,255,255,.5);margin-bottom:15px;animation:pulse-glow 2s ease-in-out infinite}@keyframes pulse-glow{0%,to{text-shadow:0 0 4px rgba(255,255,255,.8),0 0 8px rgba(255,255,255,.5)}50%{text-shadow:0 0 8px rgba(255,255,255,1),0 0 16px rgba(255,255,255,.7)}}#upgrades-display{display:flex;flex-wrap:wrap;gap:6px;max-width:400px;background:#000000b3;padding:10px;border:2px solid rgba(255,255,255,.3);border-radius:8px}#upgrades-display:empty{display:none}.upgrade-icon{width:48px;height:48px;background:#ffffff1a;border:2px solid rgba(255,255,255,.3);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:24px;cursor:help;transition:all .15s ease;position:relative}.upgrade-icon:hover{background:#ffffff40;border-color:#fff9;transform:scale(1.1);box-shadow:0 0 15px #fff6;z-index:10}.upgrade-icon .tooltip{position:absolute;bottom:100%;left:50%;transform:translate(-50%);margin-bottom:8px;background:#000000f2;color:#fff;padding:8px 12px;border-radius:4px;border:1px solid #fff;font-size:12px;white-space:nowrap;pointer-events:none;opacity:0;transition:opacity .2s;z-index:1000}.upgrade-icon:hover .tooltip{opacity:1}#level-bar-container{position:absolute;bottom:0;left:0;right:0;padding:15px;background:#000000b3;border-top:2px solid #fff;pointer-events:none}#level-info{display:flex;justify-content:space-between;font-size:14px;font-weight:700;margin-bottom:5px;text-shadow:0 0 2px rgba(255,255,255,.8)}#level-bar-bg{width:100%;height:20px;background:#000;border:2px solid #fff;position:relative;overflow:hidden}#level-bar-fill{height:100%;background:linear-gradient(90deg,#fff,#fa0,#fff);background-size:200% 100%;animation:level-shimmer 2s linear infinite;transition:width .3s ease-out;width:0%;box-shadow:0 0 10px #ffffff80}@keyframes level-shimmer{0%{background-position:200% 0}to{background-position:-200% 0}}#shop-panel{width:320px;min-width:320px;background:#000;border-left:2px solid #fff;padding:20px;overflow-y:auto;display:flex;flex-direction:column;pointer-events:auto;user-select:none;-webkit-user-select:none;position:relative;z-index:10}#shop-panel h2{font-size:24px;margin-bottom:15px;text-align:center;letter-spacing:2px}#shop-tabs{display:flex;gap:8px;margin-bottom:15px}.shop-tab{flex:1;background:#000;color:#fff;border:2px solid #666;padding:8px;font-family:inherit;font-size:14px;font-weight:700;cursor:pointer;transition:all .2s;text-transform:uppercase}.shop-tab:hover{border-color:#fff}.shop-tab.active{background:#fff;color:#000;border-color:#fff}#shop-content{flex:1;display:flex;flex-direction:column;gap:16px}.upgrade-item{border:1px solid #fff;padding:12px;background:#000;border-radius:4px;transition:all .3s ease}.upgrade-item:hover{background:#111;border-color:#fa0;box-shadow:0 0 15px #ffaa004d;transform:translate(3px)}.upgrade-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.upgrade-name{font-size:16px;font-weight:700}.upgrade-level{font-size:14px;color:#aaa}.upgrade-description{font-size:12px;color:#ccc;margin-bottom:8px;line-height:1.4}.upgrade-flavor{font-size:11px;color:#999;font-style:italic;margin-bottom:8px;line-height:1.3}.special-upgrades-box{background:linear-gradient(135deg,#111,#000);border:2px solid #888;padding:12px;margin-bottom:20px;border-radius:4px;box-shadow:0 0 20px #ffaa004d;animation:special-box-glow 3s ease-in-out infinite}@keyframes special-box-glow{0%,to{box-shadow:0 0 20px #ffaa004d;border-color:#888}50%{box-shadow:0 0 30px #fa09;border-color:#fa0}}.special-upgrades-box h3{margin:0 0 12px;font-size:16px;text-align:center;color:#fa0}.special-upgrades-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:8px}.sub-upgrade{background:linear-gradient(135deg,#222,#111);border:1px solid #666;padding:8px;text-align:center;cursor:pointer;transition:all .3s cubic-bezier(.175,.885,.32,1.275);position:relative;border-radius:4px}.sub-upgrade:not(.owned):hover{border-color:#fff;transform:scale(1.08) translateY(-2px);box-shadow:0 5px 15px #ffffff4d;background:linear-gradient(135deg,#333,#222)}.sub-upgrade.owned{background:linear-gradient(135deg,#242,#121);border-color:#4f4;cursor:default;animation:owned-pulse 2s ease-in-out infinite}@keyframes owned-pulse{0%,to{box-shadow:0 0 10px #44ff444d}50%{box-shadow:0 0 20px #4f49}}.sub-upgrade-icon{font-size:32px;margin-bottom:4px}.sub-upgrade-name{font-size:11px;font-weight:700;margin-bottom:4px}.sub-upgrade-cost{font-size:10px;color:#aaa}.sub-upgrade.owned .sub-upgrade-cost{color:#4f4}.sub-upgrade-tooltip{position:absolute;bottom:100%;left:50%;transform:translate(-50%);background:#000000f2;border:1px solid #fff;padding:8px 12px;border-radius:4px;font-size:11px;white-space:nowrap;pointer-events:none;opacity:0;transition:opacity .2s;z-index:1000;margin-bottom:4px;min-width:200px;white-space:normal;text-align:left}.sub-upgrade:hover .sub-upgrade-tooltip{opacity:1}.upgrade-footer{display:flex;justify-content:space-between;align-items:center;gap:8px}.upgrade-cost{font-size:14px;font-weight:700}.shop-button{background:#fff;color:#000;border:2px solid #fff;padding:8px 16px;font-family:inherit;font-size:14px;font-weight:700;cursor:pointer;transition:all .2s cubic-bezier(.175,.885,.32,1.275);text-transform:uppercase;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;border-radius:4px;position:relative;overflow:hidden}.shop-button:before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#0003;transform:translate(-50%,-50%);transition:width .6s,height .6s}.shop-button:hover:not(:disabled):before{width:300px;height:300px}.shop-button:hover:not(:disabled){background:#000;color:#fff;transform:scale(1.05);box-shadow:0 5px 15px #fff6}.shop-button:active:not(:disabled){background:#333;color:#fff;transform:scale(.95)}.shop-button:disabled{background:#333;color:#666;border-color:#666;cursor:not-allowed;pointer-events:none}.shop-button:focus-visible{outline:2px solid #fff;outline-offset:2px}#reset-container{margin-top:20px;padding-top:20px;border-top:1px solid #fff}#reset-btn{width:100%;background:#000;color:#fff;border:2px solid #fff}#reset-btn:hover{background:#fff;color:#000}#boss-dialog{position:absolute;inset:0;background:#000000f2;display:flex;align-items:center;justify-content:center;z-index:100;animation:fadeIn .5s ease}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}#boss-progress-container{position:absolute;top:120px;left:50%;transform:translate(-50%);width:500px;max-width:90%;z-index:50;pointer-events:none;text-align:center}.boss-progress-label{font-size:20px;font-weight:700;color:#ff0;text-shadow:0 0 10px rgba(255,255,0,.8);margin-bottom:10px;animation:pulse-glow 1s infinite}#boss-progress-bg{position:relative;width:100%;height:40px;background:#000c;border:3px solid #f00;border-radius:20px;overflow:hidden;box-shadow:0 0 20px #ff000080}#boss-progress-fill{position:absolute;left:0;top:0;height:100%;background:linear-gradient(90deg,red,#f60,red);transition:width .1s ease;box-shadow:0 0 20px #f00c}#boss-progress-text{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);font-size:18px;font-weight:700;color:#fff;text-shadow:0 0 5px #000,0 0 10px #000,1px 1px 2px #000,-1px -1px 2px #000;z-index:1}.boss-dialog-content{background:#000;border:3px solid #f00;padding:40px;max-width:500px;text-align:center;box-shadow:0 0 30px #ff000080;animation:pulse 2s infinite}@keyframes pulse{0%,to{box-shadow:0 0 30px #ff000080}50%{box-shadow:0 0 50px #f00c}}.boss-dialog-content h2{font-size:32px;margin-bottom:20px;color:red;text-shadow:0 0 10px rgba(255,0,0,.8)}.boss-warning{font-size:18px;font-weight:700;margin-bottom:15px;color:#f66}.boss-details{font-size:14px;margin-bottom:15px;line-height:1.6}.boss-ready{font-size:16px;font-weight:700;margin-top:20px;margin-bottom:25px}.boss-dialog-buttons{display:flex;gap:10px;justify-content:center}.boss-btn{font-family:inherit;font-size:18px;font-weight:700;padding:15px 40px;border:2px solid #fff;cursor:pointer;text-transform:uppercase;transition:all .2s}.boss-btn-start{background:red;color:#fff;border-color:red}.boss-btn-start:hover{background:#f44;border-color:#f44;box-shadow:0 0 20px #f009;transform:scale(1.05)}.boss-btn-start:active{transform:scale(.95)}@media(max-width:768px){#app{flex-direction:column}#shop-panel{width:100%;border-left:none;border-top:2px solid #fff;max-height:40vh}#game-container{height:60vh}.boss-dialog-content{padding:20px;margin:20px}.boss-dialog-content h2{font-size:24px}}.hud-button{margin-top:20px;padding:10px 20px;background:#ffffff1a;border:2px solid #fff;color:#fff;font-family:Courier New,monospace;font-size:14px;font-weight:700;cursor:pointer;pointer-events:auto;transition:all .2s ease}.hud-button:hover{background:#fff3;transform:scale(1.05)}.achievement-snackbar{position:fixed;top:-200px;left:50%;transform:translate(-50%);background:linear-gradient(135deg,#667eea,#764ba2);border:3px solid #ffd700;border-radius:10px;padding:15px 25px;display:flex;align-items:center;gap:15px;z-index:10000;box-shadow:0 10px 40px #00000080;transition:top .3s ease-out;min-width:350px;max-width:500px}.achievement-snackbar.show{top:20px}.achievement-icon{font-size:48px;flex-shrink:0}.achievement-content{flex:1}.achievement-title{font-size:12px;color:gold;font-weight:700;text-transform:uppercase;margin-bottom:5px}.achievement-name{font-size:18px;font-weight:700;margin-bottom:3px}.achievement-desc{font-size:14px;opacity:.9}.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;align-items:center;justify-content:center;z-index:9999;padding:20px}.modal-content{background:#1a1a1a;border:3px solid #fff;border-radius:10px;max-width:900px;width:100%;max-height:90vh;display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;padding:20px}.achievements-content{max-width:1000px}.modal-header{display:flex;justify-content:space-between;align-items:center;padding:20px;border-bottom:2px solid #333}.modal-header h2{font-size:28px;margin:0}.modal-close{background:none;border:none;color:#fff;font-size:36px;cursor:pointer;padding:0;width:40px;height:40px;display:flex;align-items:center;justify-content:center;transition:transform .2s ease}.modal-close:hover{transform:scale(1.2);color:#f66}.achievements-progress{padding:20px;border-bottom:2px solid #333}.progress-text{display:flex;justify-content:space-between;margin-bottom:10px;font-size:18px;font-weight:700}.progress-bar-container{width:100%;height:20px;background:#333;border:2px solid #666;border-radius:10px;overflow:hidden}.progress-bar{height:100%;background:linear-gradient(90deg,#4caf50,#45a049);transition:width .5s ease}.achievements-filters{display:flex;gap:10px;padding:15px 20px;border-bottom:2px solid #333;flex-wrap:wrap;overflow-x:auto}.filter-btn{padding:8px 15px;background:#333;border:2px solid #555;color:#fff;font-family:Courier New,monospace;font-size:13px;cursor:pointer;transition:all .2s ease;white-space:nowrap}.filter-btn:hover{background:#444;border-color:#777}.filter-btn.active{background:#667eea;border-color:#667eea}.achievements-grid{padding:20px;display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:15px;overflow-y:auto;max-height:calc(90vh - 300px)}.achievement-item{background:#2a2a2a;border:2px solid #444;border-radius:8px;padding:15px;display:flex;gap:12px;align-items:start;transition:all .3s ease;position:relative}.achievement-item:hover{border-color:#667eea;transform:translateY(-2px);box-shadow:0 4px 12px #667eea4d}.achievement-item.unlocked{background:linear-gradient(135deg,#2a4a2a,#1a3a1a);border-color:#4caf50}.achievement-item.locked{opacity:.6}.achievement-icon-large{font-size:40px;flex-shrink:0}.achievement-icon-large.grayscale{filter:grayscale(100%);opacity:.5}.achievement-details{flex:1}.achievement-item-name{font-size:16px;font-weight:700;margin-bottom:5px;color:#fff}.achievement-item-desc{font-size:13px;color:#ccc;margin-bottom:8px;line-height:1.4}.achievement-category-badge{display:inline-block;padding:3px 8px;border-radius:3px;font-size:10px;font-weight:700;text-transform:uppercase;background:#444;color:#fff}.achievement-category-badge.combat{background:#e74c3c}.achievement-category-badge.progression{background:#3498db}.achievement-category-badge.collection{background:#9b59b6}.achievement-category-badge.mastery{background:#f39c12}.achievement-category-badge.secret{background:#34495e}.achievement-lock{position:absolute;top:10px;right:10px;font-size:20px;opacity:.3}.achievement-checkmark{position:absolute;top:10px;right:10px;font-size:24px;color:#4caf50;font-weight:700}.stats-modal{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:flex;align-items:center;justify-content:center;z-index:9999;padding:20px}.stats-content{background:#1a1a1a;border:3px solid #fff;border-radius:10px;max-width:1000px;width:100%;max-height:90vh;display:flex;flex-direction:column;overflow:hidden}.stats-container{padding:20px;overflow-y:auto;display:flex;flex-direction:column;gap:25px}.stats-category{background:#0a0a0a;border:2px solid #333;border-radius:8px;padding:15px;transition:all .3s ease}.stats-category:hover{border-color:#667eea;box-shadow:0 0 20px #667eea4d}.stats-category-title{font-size:20px;margin:0 0 15px;color:#fa0;text-transform:uppercase;letter-spacing:1px}.stats-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:12px}.stat-item{display:flex;justify-content:space-between;padding:10px 15px;background:#1a1a1a;border:1px solid #444;border-radius:5px;transition:all .2s ease}.stat-item:hover{background:#222;border-color:#667eea;transform:translate(3px)}.stat-label{color:#aaa;font-size:14px}.stat-value{color:#fff;font-weight:700;font-size:16px;text-align:right}@media(max-width:768px){.achievements-grid{grid-template-columns:1fr;max-height:calc(90vh - 350px)}.achievements-filters{justify-content:center}.filter-btn{font-size:11px;padding:6px 10px}.modal-header h2{font-size:22px}.achievement-snackbar{min-width:280px;max-width:90vw}.achievement-icon{font-size:36px}.achievement-name{font-size:16px}.achievement-desc{font-size:12px}.stats-grid{grid-template-columns:1fr}.stats-content{max-height:85vh}}.ascension-modal .modal-content{background:linear-gradient(135deg,#1a0a2e,#16213e,#0f3460);border:3px solid #ffd700;box-shadow:0 0 50px #ffd70080;max-width:1000px}.ascension-modal .modal-header h2{color:gold;text-shadow:0 0 20px rgba(255,215,0,.8);font-size:32px;animation:ascension-glow 2s ease-in-out infinite}@keyframes ascension-glow{0%,to{text-shadow:0 0 20px rgba(255,215,0,.8)}50%{text-shadow:0 0 30px rgba(255,215,0,1),0 0 40px rgba(255,215,0,.8)}}.ascension-info{padding:20px;border-bottom:2px solid rgba(255,215,0,.3)}.ascension-description{background:#0006;padding:15px;border-radius:8px;margin-bottom:15px;border:1px solid rgba(255,215,0,.2)}.ascension-description ul{margin:10px 0 10px 30px;line-height:1.8}.ascension-rewards{background:#0006;padding:15px;border-radius:8px;border:1px solid rgba(255,215,0,.2)}.prestige-points-display{display:flex;justify-content:space-around;font-size:18px;font-weight:700}.prestige-current{color:#4caf50}.prestige-gain{color:gold}.ascension-upgrades{padding:20px;border-bottom:2px solid rgba(255,215,0,.3)}.ascension-upgrades h3{color:gold;margin-bottom:15px;font-size:20px}.prestige-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px;max-height:400px;overflow-y:auto}.prestige-upgrade-card{background:linear-gradient(135deg,#2a2a4a,#1a1a3a);border:2px solid #555;border-radius:8px;padding:12px;cursor:pointer;transition:all .3s ease}.prestige-upgrade-card:not(.maxed):not(.locked):hover{border-color:gold;transform:translateY(-3px);box-shadow:0 5px 20px #ffd70066;background:linear-gradient(135deg,#3a3a5a,#2a2a4a)}.prestige-upgrade-card.locked{opacity:.5;cursor:not-allowed}.prestige-upgrade-card.maxed{background:linear-gradient(135deg,#2a4a2a,#1a3a1a);border-color:#4caf50;cursor:default}.prestige-upgrade-name{font-size:14px;font-weight:700;color:gold;margin-bottom:5px}.prestige-upgrade-level{font-size:11px;color:#aaa;margin-bottom:8px}.prestige-upgrade-desc{font-size:12px;color:#ccc;margin-bottom:8px;line-height:1.3}.prestige-upgrade-effect{font-size:11px;color:#8f8;font-style:italic;margin-bottom:8px}.prestige-upgrade-cost{font-size:12px;font-weight:700;color:gold;text-align:center;padding-top:8px;border-top:1px solid rgba(255,255,255,.2)}.ascension-actions{padding:20px;display:flex;justify-content:center}.ascension-btn{font-family:Courier New,monospace;font-size:20px;font-weight:700;padding:15px 50px;background:linear-gradient(135deg,gold,#ffed4e);color:#000;border:3px solid #ffd700;border-radius:8px;cursor:pointer;transition:all .3s ease;text-transform:uppercase;box-shadow:0 5px 20px #ffd70066}.ascension-btn:hover:not(:disabled){background:linear-gradient(135deg,#ffed4e,gold);transform:scale(1.05);box-shadow:0 8px 30px #ffd70099}.ascension-btn:active:not(:disabled){transform:scale(.98)}.ascension-btn:disabled{background:#555;color:#888;border-color:#555;cursor:not-allowed;box-shadow:none;font-size:14px}.ascension-hud-btn{background:linear-gradient(135deg,gold,#ffed4e);border-color:gold;color:#000;font-weight:700;animation:ascension-pulse 3s ease-in-out infinite}.ascension-hud-btn:hover{background:linear-gradient(135deg,#ffed4e,gold);box-shadow:0 0 20px #ffd700cc}@keyframes ascension-pulse{0%,to{box-shadow:0 0 10px #ffd70080}50%{box-shadow:0 0 25px #ffd700cc}}.modal-button{background:#fff;color:#000;border:2px solid #fff;padding:10px 20px;font-family:Courier New,monospace;font-size:14px;font-weight:700;cursor:pointer;transition:all .2s ease;border-radius:4px}.modal-button:hover{background:#000;color:#fff;transform:scale(1.05)}.modal-button:disabled{background:#666;color:#999;border-color:#666;cursor:not-allowed}
